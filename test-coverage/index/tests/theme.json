[
    {
        "name": "Can read values from `@theme`",
        "type": "compileCss",
        "classes": [
            "accent-red-500"
        ],
        "css": "@theme {\n            --color-red-500: #f00;\n          }\n          @tailwind utilities;",
        "expected": "\":root, :host {\n        --color-red-500: red;\n      }\n\n      .accent-red-500 {\n        accent-color: var(--color-red-500);\n      }\""
    },
    {
        "name": "Later values from `@theme` override earlier ones",
        "type": "compileCss",
        "classes": [
            "accent-red-500"
        ],
        "css": "@theme {\n            --color-red-500: #f00;\n            --color-red-500: #f10;\n          }\n          @tailwind utilities;",
        "expected": "\":root, :host {\n        --color-red-500: #f10;\n      }\n\n      .accent-red-500 {\n        accent-color: var(--color-red-500);\n      }\""
    },
    {
        "name": "Multiple `@theme` blocks are merged",
        "type": "compileCss",
        "classes": [
            "accent-red-500",
            "accent-blue-500"
        ],
        "css": "@theme {\n            --color-red-500: #f00;\n          }\n          @theme {\n            --color-blue-500: #00f;\n          }\n          @tailwind utilities;",
        "expected": "\":root, :host {\n        --color-red-500: red;\n        --color-blue-500: #00f;\n      }\n\n      .accent-blue-500 {\n        accent-color: var(--color-blue-500);\n      }\n\n      .accent-red-500 {\n        accent-color: var(--color-red-500);\n      }\""
    },
    {
        "name": "`@theme` values with escaped forward slashes map to unescaped slashes in candidate values",
        "type": "compileCss",
        "classes": [
            "w-1\/2",
            "w-75%"
        ],
        "css": "@theme {\n            \/* Cursed but we want this to work *\/\n            --width-1\\\/2: 75%;\n            --width-75\\%: 50%;\n          }\n          @tailwind utilities;",
        "expected": "\":root, :host {\n        --width-1\\\\\/2: 75%;\n        --width-75\\\\%: 50%;\n      }\n\n      .w-1\\\\\/2 {\n        width: var(--width-1\\\\\/2);\n      }\n\n      .w-75\\\\% {\n        width: var(--width-75\\\\%);\n      }\""
    },
    {
        "name": "`@keyframes` in `@theme` are hoisted",
        "type": "compileCss",
        "classes": [
            "accent-red",
            "text-lg"
        ],
        "css": "@theme {\n            --color-red: red;\n            --animate-foo: foo 1s infinite;\n\n            @keyframes foo {\n              to {\n                opacity: 1;\n              }\n            }\n\n            --text-lg: 20px;\n          }\n          @tailwind utilities;",
        "expected": "\":root, :host {\n        --color-red: red;\n        --text-lg: 20px;\n      }\n\n      .text-lg {\n        font-size: var(--text-lg);\n      }\n\n      .accent-red {\n        accent-color: var(--color-red);\n      }\""
    },
    {
        "name": "`@keyframes` in `@theme` are generated when name contains a new line",
        "type": "compileCss",
        "classes": [
            "animate-very-long-animation-name"
        ],
        "css": "@theme {\n            --animate-very-long-animation-name: very-long-animation-name\n              var(\n                --very-long-animation-name-configuration,\n                2.5s ease-in-out 0s infinite normal none running\n              );\n\n            @keyframes very-long-animation-name {\n              to {\n                opacity: 1;\n              }\n            }\n          }\n\n          @tailwind utilities;",
        "expected": "\":root, :host {\n        --animate-very-long-animation-name: very-long-animation-name var(--very-long-animation-name-configuration, 2.5s ease-in-out 0s infinite normal none running);\n      }\n\n      .animate-very-long-animation-name {\n        animation: var(--animate-very-long-animation-name);\n      }\n\n      @keyframes very-long-animation-name {\n        to {\n          opacity: 1;\n        }\n      }\""
    },
    {
        "name": "`@theme` values can be unset",
        "type": "compileCss",
        "classes": [
            "accent-red",
            "accent-blue",
            "accent-green",
            "text-sm",
            "text-md"
        ],
        "css": "@theme {\n            --color-red: #f00;\n            --color-blue: #00f;\n            --text-sm: 13px;\n            --text-md: 16px;\n\n            --animate-spin: spin 1s infinite linear;\n\n            @keyframes spin {\n              to {\n                transform: rotate(360deg);\n              }\n            }\n          }\n          @theme {\n            --color-*: initial;\n            --text-md: initial;\n            --animate-*: initial;\n            --keyframes-*: initial;\n          }\n          @theme {\n            --color-green: #0f0;\n          }\n          @tailwind utilities;",
        "expected": "\":root, :host {\n        --text-sm: 13px;\n        --color-green: #0f0;\n      }\n\n      .text-sm {\n        font-size: var(--text-sm);\n      }\n\n      .accent-green {\n        accent-color: var(--color-green);\n      }\""
    },
    {
        "name": "`@theme` values can be unset (using the escaped syntax)",
        "type": "compileCss",
        "classes": [
            "accent-red",
            "accent-blue",
            "accent-green",
            "text-sm",
            "text-md"
        ],
        "css": "@theme {\n            --color-red: #f00;\n            --color-blue: #00f;\n            --text-sm: 13px;\n            --text-md: 16px;\n\n            --animate-spin: spin 1s infinite linear;\n\n            @keyframes spin {\n              to {\n                transform: rotate(360deg);\n              }\n            }\n          }\n          @theme {\n            --color-\\*: initial;\n            --text-md: initial;\n            --animate-\\*: initial;\n            --keyframes-\\*: initial;\n          }\n          @theme {\n            --color-green: #0f0;\n          }\n          @tailwind utilities;",
        "expected": "\":root, :host {\n        --text-sm: 13px;\n        --color-green: #0f0;\n      }\n\n      .text-sm {\n        font-size: var(--text-sm);\n      }\n\n      .accent-green {\n        accent-color: var(--color-green);\n      }\""
    },
    {
        "name": "all `@theme` values can be unset at once",
        "type": "compileCss",
        "classes": [
            "accent-red",
            "accent-blue",
            "accent-green",
            "text-sm",
            "text-md"
        ],
        "css": "@theme {\n            --color-red: #f00;\n            --color-blue: #00f;\n            --font-size-sm: 13px;\n            --font-size-md: 16px;\n          }\n          @theme {\n            --*: initial;\n          }\n          @theme {\n            --color-green: #0f0;\n          }\n          @tailwind utilities;",
        "expected": "\":root, :host {\n        --color-green: #0f0;\n      }\n\n      .accent-green {\n        accent-color: var(--color-green);\n      }\""
    },
    {
        "name": "keyframes are generated when used in an animation using `@theme inline`",
        "type": "compileCss",
        "classes": [
            "animate-foo"
        ],
        "css": "@theme inline {\n            --animate-foo: used 1s infinite;\n            --animate-bar: unused 1s infinite;\n\n            @keyframes used {\n              to {\n                opacity: 1;\n              }\n            }\n\n            @keyframes unused {\n              to {\n                opacity: 0;\n              }\n            }\n          }\n\n          @tailwind utilities;",
        "expected": "\".animate-foo {\n        animation: 1s infinite used;\n      }\n\n      @keyframes used {\n        to {\n          opacity: 1;\n        }\n      }\""
    },
    {
        "name": "keyframes are generated when used in an animation using `@theme static`",
        "type": "compileCss",
        "classes": [
            "animate-foo"
        ],
        "css": "@theme static {\n            --animate-foo: used 1s infinite;\n            --animate-bar: unused-but-kept 1s infinite;\n\n            @keyframes used {\n              to {\n                opacity: 1;\n              }\n            }\n\n            @keyframes unused-but-kept {\n              to {\n                opacity: 0;\n              }\n            }\n          }\n\n          @tailwind utilities;",
        "expected": "\":root, :host {\n        --animate-foo: used 1s infinite;\n        --animate-bar: unused-but-kept 1s infinite;\n      }\n\n      .animate-foo {\n        animation: var(--animate-foo);\n      }\n\n      @keyframes used {\n        to {\n          opacity: 1;\n        }\n      }\n\n      @keyframes unused-but-kept {\n        to {\n          opacity: 0;\n        }\n      }\""
    },
    {
        "name": "keyframes outside of `@theme are always preserved",
        "type": "compileCss",
        "classes": [],
        "css": "@theme {\n            @keyframes used {\n              to {\n                opacity: 1;\n              }\n            }\n          }\n\n          @keyframes unused {\n            to {\n              opacity: 0;\n            }\n          }\n\n          .foo {\n            animation: used 1s infinite;\n          }\n\n          @tailwind utilities;",
        "expected": "\"@keyframes unused {\n        to {\n          opacity: 0;\n        }\n      }\n\n      .foo {\n        animation: 1s infinite used;\n      }\n\n      @keyframes used {\n        to {\n          opacity: 1;\n        }\n      }\""
    },
    {
        "name": "`@keyframes` added in `@theme reference` should not be emitted",
        "type": "compileCss",
        "classes": [
            "animate-foo"
        ],
        "css": "@theme reference {\n            --animate-foo: foo 1s infinite;\n\n            @keyframes foo {\n              0%,\n              100% {\n                color: red;\n              }\n              50% {\n                color: blue;\n              }\n            }\n          }\n          @tailwind utilities;",
        "expected": "\".animate-foo {\n        animation: var(--animate-foo, foo 1s infinite);\n      }\n\n      @keyframes foo {\n        0%, 100% {\n          color: red;\n        }\n\n        50% {\n          color: #00f;\n        }\n      }\""
    },
    {
        "name": "`@keyframes` added in `@theme reference` should not be emitted, even if another `@theme` block exists",
        "type": "compileCss",
        "classes": [
            "bg-pink",
            "animate-foo"
        ],
        "css": "@theme reference {\n            --animate-foo: foo 1s infinite;\n\n            @keyframes foo {\n              0%,\n              100% {\n                color: red;\n              }\n              50% {\n                color: blue;\n              }\n            }\n          }\n\n          @theme {\n            --color-pink: pink;\n          }\n\n          @tailwind utilities;",
        "expected": "\":root, :host {\n        --color-pink: pink;\n      }\n\n      .animate-foo {\n        animation: var(--animate-foo, foo 1s infinite);\n      }\n\n      .bg-pink {\n        background-color: var(--color-pink);\n      }\n\n      @keyframes foo {\n        0%, 100% {\n          color: red;\n        }\n\n        50% {\n          color: #00f;\n        }\n      }\""
    },
    {
        "name": "wrapping `@theme` with `@media reference` behaves like `@theme reference` to support `@import` statements",
        "type": "compileCss",
        "classes": [
            "bg-tomato",
            "bg-potato",
            "bg-avocado"
        ],
        "css": "@theme {\n            --color-tomato: #e10c04;\n          }\n          @media theme(reference) {\n            @theme {\n              --color-potato: #ac855b;\n            }\n            @theme {\n              --color-avocado: #c0cc6d;\n            }\n          }\n          @tailwind utilities;",
        "expected": "\":root, :host {\n        --color-tomato: #e10c04;\n      }\n\n      .bg-avocado {\n        background-color: var(--color-avocado, #c0cc6d);\n      }\n\n      .bg-potato {\n        background-color: var(--color-potato, #ac855b);\n      }\n\n      .bg-tomato {\n        background-color: var(--color-tomato);\n      }\""
    },
    {
        "name": "wrapping `@theme` with `@media theme(inline)` behaves like `@theme inline` to support `@import` statements",
        "type": "compileCss",
        "classes": [
            "bg-tomato",
            "bg-potato",
            "bg-primary"
        ],
        "css": "@media theme(inline) {\n            @theme {\n              --color-tomato: #e10c04;\n              --color-potato: #ac855b;\n              --color-primary: var(--primary);\n            }\n          }\n\n          @tailwind utilities;",
        "expected": "\".bg-potato {\n        background-color: #ac855b;\n      }\n\n      .bg-primary {\n        background-color: var(--primary);\n      }\n\n      .bg-tomato {\n        background-color: #e10c04;\n      }\""
    }
]