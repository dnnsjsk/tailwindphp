[
    {
        "name": "unescapes underscores to spaces inside arbitrary values except for `url()` and first argument of `var()` and `theme()`",
        "type": "compileCss",
        "classes": [
            "bg-[no-repeat_url(.\/my_file.jpg)]",
            "ml-[var(--spacing-1_5,_var(--spacing-2_5,_1rem))]",
            "ml-[theme(--spacing-1_5,theme(--spacing-2_5,_1rem)))]"
        ],
        "css": "@theme {\n            --spacing-1_5: 1.5rem;\n            --spacing-2_5: 2.5rem;\n          }\n          @tailwind utilities;",
        "expected": "\":root, :host {\n        --spacing-1_5: 1.5rem;\n        --spacing-2_5: 2.5rem;\n      }\n\n      .ml-\\\\[theme\\\\(--spacing-1_5\\\\,theme\\\\(--spacing-2_5\\\\,_1rem\\\\)\\\\)\\\\)\\\\] {\n        margin-left: 1.5rem;\n      }\n\n      .ml-\\\\[var\\\\(--spacing-1_5\\\\,_var\\\\(--spacing-2_5\\\\,_1rem\\\\)\\\\)\\\\] {\n        margin-left: var(--spacing-1_5, var(--spacing-2_5, 1rem));\n      }\n\n      .bg-\\\\[no-repeat_url\\\\(\\\\.\\\\\/my_file\\\\.jpg\\\\)\\\\] {\n        background-color: no-repeat url(\".\/my_file.jpg\");\n      }\""
    },
    {
        "name": "should generate arbitrary properties",
        "type": "run",
        "classes": [
            "[color:red]"
        ],
        "css": null,
        "expected": "\".\\\\[color\\\\:red\\\\] {\n        color: red;\n      }\""
    },
    {
        "name": "should generate arbitrary properties with modifiers",
        "type": "run",
        "classes": [
            "[color:red]\/50"
        ],
        "css": null,
        "expected": "\".\\\\[color\\\\:red\\\\]\\\\\/50 {\n        color: oklab(62.7955% .224 .125 \/ .5);\n      }\""
    },
    {
        "name": "should not generate arbitrary properties with invalid modifiers",
        "type": "run",
        "classes": [
            "[color:red]\/not-a-percentage"
        ],
        "css": null,
        "expected": "\"\""
    },
    {
        "name": "should generate arbitrary properties with variables and with modifiers",
        "type": "run",
        "classes": [
            "[color:var(--my-color)]\/50"
        ],
        "css": null,
        "expected": "\".\\\\[color\\\\:var\\\\(--my-color\\\\)\\\\]\\\\\/50 {\n        color: var(--my-color);\n      }\n\n      @supports (color: color-mix(in lab, red, red)) {\n        .\\\\[color\\\\:var\\\\(--my-color\\\\)\\\\]\\\\\/50 {\n          color: color-mix(in oklab, var(--my-color) 50%, transparent);\n        }\n      }\""
    },
    {
        "name": "should generate arbitrary variants",
        "type": "run",
        "classes": [
            "[&_p]:flex"
        ],
        "css": null,
        "expected": "\".\\\\[\\\\&_p\\\\]\\\\:flex p {\n        display: flex;\n      }\""
    },
    {
        "name": "should generate arbitrary at-rule variants",
        "type": "run",
        "classes": [
            "[@media(width>=123px)]:flex"
        ],
        "css": null,
        "expected": "\"@media (min-width: 123px) {\n        .\\\\[\\\\@media\\\\(width\\\\>\\\\=123px\\\\)\\\\]\\\\:flex {\n          display: flex;\n        }\n      }\""
    },
    {
        "name": "should stack arbitrary variants and simple variants",
        "type": "run",
        "classes": [
            "[&_p]:hover:flex"
        ],
        "css": null,
        "expected": "\"@media (hover: hover) {\n        .\\\\[\\\\&_p\\\\]\\\\:hover\\\\:flex p:hover {\n          display: flex;\n        }\n      }\""
    },
    {
        "name": "should stack multiple arbitrary variants",
        "type": "run",
        "classes": [
            "[&_p]:[@media(width>=123px)]:flex"
        ],
        "css": null,
        "expected": "\"@media (min-width: 123px) {\n        .\\\\[\\\\&_p\\\\]\\\\:\\\\[\\\\@media\\\\(width\\\\>\\\\=123px\\\\)\\\\]\\\\:flex p {\n          display: flex;\n        }\n      }\""
    },
    {
        "name": "should generate an important arbitrary property utility",
        "type": "run",
        "classes": [
            "[color:red]!"
        ],
        "css": null,
        "expected": "\".\\\\[color\\\\:red\\\\]\\\\! {\n        color: red !important;\n      }\""
    }
]